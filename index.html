<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ðŸŽ² Modo Tablero</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ðŸŽ² Modo Tablero</h1>

    <div class="form-section">
      <label for="game">Â¿QuÃ© juego jugamos?</label>
      <input type="text" id="game" placeholder="Ej: Uno, Jenga, Truco..." />

      <label>CalificaciÃ³n:</label>
      <div class="stars" id="stars">
        <span data-value="1">â˜…</span>
        <span data-value="2">â˜…</span>
        <span data-value="3">â˜…</span>
        <span data-value="4">â˜…</span>
        <span data-value="5">â˜…</span>
      </div>

      <label>Â¿QuiÃ©n ganÃ³?</label>
      <select id="winner">
        <option value="Anna">Anna</option>
        <option value="Tiago">Tiago</option>
        <option value="Empate">Empate</option>
      </select>

      <button id="save">Guardar partida</button>
    </div>

    <div class="scoreboard">
      <h2>Marcador General</h2>
      <div class="bar">
        <div id="annaBar" class="bar-fill"></div>
        <div id="tieBar" class="bar-fill"></div>
        <div id="tiagoBar" class="bar-fill"></div>
      </div>
      <p id="scoreText"></p>
    </div>

    <div class="history">
      <h2>Historial de partidas</h2>
      <ul id="historyList"></ul>
    </div>
  </div>
<style>
  body {
  font-family: "Poppins", sans-serif;
  background-color: #f6deff;
  color: #3d1b5d;
  display: flex;
  justify-content: center;
  padding: 20px;
}

.container {
  background-color: white;
  border-radius: 20px;
  box-shadow: 0 0 15px rgba(153, 92, 214, 0.3);
  padding: 20px;
  max-width: 400px;
  width: 100%;
}

h1 {
  text-align: center;
  color: #995cd6;
}

label {
  display: block;
  margin-top: 10px;
  font-weight: bold;
}

input, select {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
  border: 2px solid #995cd6;
  border-radius: 8px;
}

button {
  width: 100%;
  background-color: #995cd6;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 10px;
  margin-top: 15px;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s;
}

button:hover {
  background-color: #7b41b3;
}

.stars {
  display: flex;
  justify-content: center;
  margin: 10px 0;
}

.stars span {
  font-size: 30px;
  color: #ccc;
  cursor: pointer;
  transition: all 0.2s;
}

.stars span.selected,
.stars span:hover,
.stars span:hover ~ span {
  color: gold;
  text-shadow: 0 0 5px #ffea8b;
}

.scoreboard {
  text-align: center;
  margin-top: 20px;
}

.bar {
  display: flex;
  height: 25px;
  border-radius: 15px;
  overflow: hidden;
  margin: 10px 0;
  border: 2px solid #995cd6;
}

.bar-fill {
  height: 100%;
}

#annaBar { background-color: #995cd6; }
#tieBar { background-color: #bbb3cc; }
#tiagoBar { background-color: #f6deff; }

.history ul {
  list-style: none;
  padding: 0;
}

.history li {
  background-color: #f6deff;
  border-left: 5px solid #995cd6;
  padding: 8px;
  margin: 5px 0;
  border-radius: 8px;
  font-size: 0.9em;
}

@media (max-width: 600px) {
  .container {
    padding: 15px;
  }
}

</style>
  <script src="script.js">
    const stars = document.querySelectorAll('#stars span');
const winnerSelect = document.getElementById('winner');
const saveBtn = document.getElementById('save');
const historyList = document.getElementById('historyList');
const annaBar = document.getElementById('annaBar');
const tiagoBar = document.getElementById('tiagoBar');
const tieBar = document.getElementById('tieBar');
const scoreText = document.getElementById('scoreText');
const gameInput = document.getElementById('game');

let selectedRating = 0;

stars.forEach(star => {
  star.addEventListener('click', () => {
    selectedRating = parseInt(star.dataset.value);
    updateStars();
  });
});

function updateStars() {
  stars.forEach(star => {
    star.classList.toggle('selected', parseInt(star.dataset.value) <= selectedRating);
  });
}

function loadHistory() {
  const data = JSON.parse(localStorage.getItem('tableroHistory') || '[]');
  historyList.innerHTML = '';
  let annaWins = 0, tiagoWins = 0, ties = 0;

  data.forEach(item => {
    const li = document.createElement('li');
    li.textContent = `${item.date} â€” ${item.game} | GanÃ³: ${item.winner} â­${item.rating}`;
    historyList.appendChild(li);

    if (item.winner === "Anna") annaWins++;
    else if (item.winner === "Tiago") tiagoWins++;
    else ties++;
  });

  const total = annaWins + tiagoWins + ties;
  const annaPercent = total ? (annaWins / total * 100).toFixed(1) : 0;
  const tiePercent = total ? (ties / total * 100).toFixed(1) : 0;
  const tiagoPercent = total ? (tiagoWins / total * 100).toFixed(1) : 0;

  annaBar.style.width = `${annaPercent}%`;
  tieBar.style.width = `${tiePercent}%`;
  tiagoBar.style.width = `${tiagoPercent}%`;

  scoreText.textContent = `Anna ${annaPercent}% | Empates ${tiePercent}% | Tiago ${tiagoPercent}%`;
}

saveBtn.addEventListener('click', () => {
  const game = gameInput.value.trim();
  const winner = winnerSelect.value;

  if (!game || !selectedRating) {
    alert('Por favor completa todos los campos.');
    return;
  }

  const newRecord = {
    date: new Date().toLocaleDateString(),
    game,
    winner,
    rating: selectedRating
  };

  const data = JSON.parse(localStorage.getItem('tableroHistory') || '[]');
  data.push(newRecord);
  localStorage.setItem('tableroHistory', JSON.stringify(data));

  gameInput.value = '';
  selectedRating = 0;
  updateStars();
  loadHistory();
});

loadHistory();

  </script>
</body>
</html>
